# Shop WS (Vue 3 + Node + WebSocket)

Небольшой SPA-магазин на моках с онлайн‑обновлениями через WebSocket.

Приложение обубликовано на https://rafikovt.github.io/knf-shop/

## Быстрый старт в дев режиме


### 2) Клиент (Vite + Vue 3)
```bash
npm i
npm run dev

```

## Фичи
- Вход (мок) → редирект в каталог.
- Каталог с фильтрами/сортировкой/пагинацией (query синхронизируются с URL).
- Карточка товара с «живыми» обновлениями цены/наличия через WebSocket.
- Корзина с оптимистичными апдейтами и откатами при ошибках (`PRICE_CHANGED`, `OUT_OF_STOCK`).
- Оформление заказа с обработкой `CART_OUTDATED`.
- Нотификации (toasts), лоадеры и пустые состояния.
- Товары обновляются раз в 3 секунды, обновления приходят по сокету. Как в корзине так и в каталоге.
- Можно зайти под одним юзером, в разных вкладках, корзины у них будут синхронизироваться по сокету.

## Архитектура
- `server` — Express + Socket.IO, in-memory данные (80 товаров). https://github.com/rafikovt/knf-show-server
- `web` — Vue 3 + Pinia + Vue Router. Tailwind через CDN. https://github.com/rafikovt/knf-shop
- WebSocket подключается один раз (в `App.vue` через `useSocket`). События:
  - `product.updated` — патчит товар в каталоге и позицию в корзине.
  - `cart.synced` — подменяет корзину и показывает уведомление.

## Замечания
- Изображения — (плейсхолдеры).
- Можно допилить:  E2E тесты.

